query($gofhirInput:GofhirInput, $ga4ghInput:Ga4ghInput, $rnagetInput:RnagetInput){
  filter_patients (

    # conditionCode - Coronary Heart Disease
    # allergyIntoleranceCode - Shellfish allergy
    # observationCode - Hemoglobin A1c/Hemoglobin.total in Blood (6.1%)
    # procedureCode - Colonoscopy

    gofhirInput: $gofhirInput   # filter patients
    ga4ghInput: $ga4ghInput     # select variant data
    rnagetInput: $rnagetInput   # select rna expression data

  	) {

    patient_count
    variant_count

    gofhir_response_time
    ga4gh_response_time

    #gofhir patient data
    patients {
      resourceType
      id
      callSetId
      sampleId
      gender
      deceasedDateTime
      birthDate
      resourceType
      name {
        use
        family
        given
      }
#      extension {
#        url
#        valueCodeableConcept {
#          text
#          coding {
#            system
#            code
#            display
#          }
#        }
#      }
    }

    #ga4gh variant data
    variantNextPageToken
    variants {
      variantSetId
    	start
    	end
    	filtersApplied
    	filtersPassed
    	referenceBases
    	names
    	alternateBases
    	referenceName
    	id
      calls{
        callSetName
        genotype
        callSetId
        phaseset
      }
    }

    #rnaget expression data
    rnaExpressions {
      expression {
        sampleId
        values
      }
      features
      units
      study
    }
  }
}

{
  "gofhirInput": {
    "conditionCode": "53741008",
    "allergyIntoleranceCode": "300913006",
    "observationCode": "4548-4",
    "procedureCode": "73761001"
  },
  "ga4ghInput": {
    "start": "10",
    "end": "101770",
    "pageToken": "0:0"
  },
  "rnagetInput": {
    "featureNameList": [
      "A1BG",
      "BRCA1",
      "BRCA2"
    ]
  }
}